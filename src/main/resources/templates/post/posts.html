<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 목록 | 바이브코딩</title>
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;700;800&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#0d59f2",
                        "background-light": "#ffffff",
                        "neutral-gray": "#f5f6f8",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"]
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Manrope', sans-serif;
        }

        .glass-nav {
            backdrop-filter: blur(12px);
            background-color: rgba(255, 255, 255, 0.8);
        }

        .samsung-shadow {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.04);
        }
    </style>
</head>

<body class="bg-background-light text-slate-900 font-display">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 glass-nav border-b border-slate-100">
        <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
            <a class="flex items-center gap-2 group" href="/">
                <div class="bg-primary p-1.5 rounded-sm">
                    <svg class="w-5 h-5 text-white" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 6H42L36 24L42 42H6L12 24L6 6Z" fill="currentColor"></path>
                    </svg>
                </div>
                <span class="text-xl font-extrabold tracking-tight text-slate-900">바이브코딩</span>
            </a>
            <div class="flex items-center gap-4">
                <a href="/" class="text-sm font-semibold text-slate-600 hover:text-primary transition-colors">Home</a>
                <a href="/posts" class="text-sm font-bold text-primary transition-colors">Posts</a>
            </div>
        </div>
    </nav>

    <main class="pt-32 pb-24">
        <div class="max-w-7xl mx-auto px-6">
            <div class="mb-12 flex flex-col md:flex-row md:items-end justify-between gap-6">
                <div>
                    <h1 class="text-4xl font-extrabold text-slate-900 tracking-tight mb-4">게시글 목록</h1>
                    <p class="text-slate-500 font-medium">최신 업데이트된 게시글들을 확인해 보세요.</p>
                </div>
                <div>
                    <a href="/posts/new"
                        class="inline-flex items-center gap-2 bg-primary text-white font-bold px-8 py-3 rounded-full hover:bg-blue-700 transition-all shadow-lg shadow-primary/20">
                        <span class="material-symbols-outlined text-xl">add</span>
                        새 글 작성
                    </a>
                </div>
            </div>

            <div class="bg-white rounded-2xl border border-slate-100 samsung-shadow overflow-hidden">
                <div class="table-responsive p-4">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="table-light">
                            <tr class="text-slate-500 text-sm">
                                <th class="py-3 px-4 font-bold" style="width: 80px;">No.</th>
                                <th class="py-3 px-4 font-bold">제목</th>
                                <th class="py-3 px-4 font-bold" style="width: 200px;">작성일</th>
                                <th class="py-3 px-4 font-bold" style="width: 200px;">수정일</th>
                                <th class="py-3 px-4 font-bold" style="width: 100px;">조회수</th>
                            </tr>
                        </thead>
                        <tbody class="text-slate-700">
                            <tr th:each="post : ${posts}">
                                <td class="py-3 px-4 font-medium" th:text="${post.no}">1</td>
                                <td class="py-3 px-4">
                                    <a th:href="@{/posts/{no}(no=${post.no})}"
                                        class="text-slate-900 font-bold text-decoration-none hover:text-primary transition-colors"
                                        th:text="${post.title}">게시글 제목입니다.</a>
                                </td>
                                <td class="py-3 px-4 text-slate-500 text-sm"
                                    th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}">2024-02-23 16:20
                                </td>
                                <td class="py-3 px-4 text-slate-500 text-sm"
                                    th:text="${#temporals.format(post.updatedAt, 'yyyy-MM-dd HH:mm')}">2024-02-23 16:30
                                </td>
                                <td class="py-3 px-4">
                                    <span class="badge bg-primary bg-opacity-10 text-primary rounded-pill font-bold"
                                        th:text="${post.views}">42</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <div class="px-8 py-6 border-t border-slate-100 flex items-center justify-between"
                    th:if="${totalPages > 0}">
                    <div class="text-sm font-bold text-slate-500">
                        전체 <span class="text-primary" th:text="${totalCount}">0</span>개의 게시글
                    </div>
                    <nav aria-label="Page navigation">
                        <ul class="pagination pagination-sm mb-0 gap-1 border-0">
                            <!-- Previous -->
                            <li class="page-item" th:classappend="${currentPage == 1} ? 'disabled'">
                                <a class="page-link rounded-lg border-slate-200 text-slate-600 hover:bg-slate-50"
                                    th:href="@{/posts(page=${currentPage - 1})}" aria-label="Previous">
                                    <span class="material-symbols-outlined text-sm leading-none">chevron_left</span>
                                </a>
                            </li>

                            <!-- Numbers -->
                            <li class="page-item" th:each="pageNum : ${#numbers.sequence(1, totalPages)}"
                                th:classappend="${pageNum == currentPage} ? 'active'">
                                <a class="page-link rounded-lg border-slate-200 font-bold px-3 py-1.5"
                                    th:classappend="${pageNum == currentPage} ? 'bg-primary border-primary text-white shadow-lg shadow-primary/20' : 'text-slate-600 hover:bg-slate-50'"
                                    th:href="@{/posts(page=${pageNum})}" th:text="${pageNum}">1</a>
                            </li>

                            <!-- Next -->
                            <li class="page-item" th:classappend="${currentPage == totalPages} ? 'disabled'">
                                <a class="page-link rounded-lg border-slate-200 text-slate-600 hover:bg-slate-50"
                                    th:href="@{/posts(page=${currentPage + 1})}" aria-label="Next">
                                    <span class="material-symbols-outlined text-sm leading-none">chevron_right</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-neutral-gray border-t border-slate-200 py-12 text-center text-sm font-medium text-slate-500">
        © 2024 Vibe Coding Inc. All rights reserved.
    </footer>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>